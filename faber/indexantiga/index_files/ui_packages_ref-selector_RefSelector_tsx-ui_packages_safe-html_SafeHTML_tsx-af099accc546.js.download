"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_ref-selector_RefSelector_tsx-ui_packages_safe-html_SafeHTML_tsx"],{10866:(e,t,n)=>{n.d(t,{$_:()=>q,A4:()=>eA,BK:()=>eE,By:()=>en,C2:()=>M,C9:()=>S,CY:()=>w,Cv:()=>H,DG:()=>ec,DW:()=>u,ER:()=>V,FL:()=>$,Fe:()=>eH,GO:()=>el,GX:()=>s,Gr:()=>i,H7:()=>k,HK:()=>ei,IU:()=>eF,IY:()=>_,J9:()=>W,Jb:()=>eP,Jw:()=>eK,KL:()=>A,Kl:()=>eT,Mf:()=>a,N2:()=>er,NS:()=>Q,OI:()=>z,P4:()=>N,QD:()=>U,QY:()=>P,Q_:()=>ez,Qi:()=>v,S$:()=>F,SV:()=>E,SY:()=>eN,St:()=>ed,U:()=>ea,UY:()=>et,V6:()=>y,Vr:()=>eo,WG:()=>l,Z0:()=>es,ZH:()=>g,ZI:()=>eI,Zv:()=>p,_h:()=>ep,a_:()=>ee,aw:()=>eL,bN:()=>ex,cN:()=>ev,cb:()=>eD,cd:()=>eb,cm:()=>ey,dQ:()=>x,db:()=>J,ef:()=>eW,eq:()=>eZ,fW:()=>ek,gX:()=>eO,gx:()=>c,iT:()=>m,j6:()=>G,j9:()=>I,jK:()=>ej,jP:()=>O,lr:()=>h,mE:()=>D,mJ:()=>ew,mY:()=>o,oA:()=>eR,p1:()=>eC,qH:()=>e$,sA:()=>T,sT:()=>eh,t4:()=>C,u_:()=>e_,v5:()=>b,v_:()=>eg,vf:()=>eu,w2:()=>Z,wu:()=>Y,wy:()=>j,xR:()=>X,xv:()=>L,yi:()=>ef,z4:()=>em,zP:()=>f,zf:()=>d,zh:()=>R});var r=n(86283);function i(e,t,n){let i=e(t),a=new URL(i,r.jX.origin||"https://github.com");for(let[e,t]of(i===r.jX.pathname&&(a.search=new URLSearchParams(r.jX.search).toString()),Object.entries(n||{})))null==t?a.searchParams.delete(e):a.searchParams.set(e,t.toString());return a}function a(e,t,n){let r=i(e,t,n);return r.href.replace(r.origin,"")}let s=({searchTerm:e})=>`/search?q=${I(`${e}`)}&type=code`,o=({owner:e,repo:t,searchTerm:n})=>`/search?q=${I(`repo:${e}/${t} ${n}`)}&type=code`,c=()=>"/search",l=()=>"/search/advanced",u=()=>"/search/stats",h=({owner:e})=>`/${I(e)}`,d=({owner:e})=>`/${I(e)}.png`,f=({owner:e})=>`/users/${I(e)}/hovercard`,m=({owner:e,team:t})=>`/orgs/${I(e)}/teams/${I(t)}/hovercard`,p=({owner:e})=>`/orgs/${I(e)}/hovercard`,g=({userId:e})=>`/hovercards?user_id=${e}`;function $({owner:e,repo:t,action:n}){return n?`/${I(e)}/${I(t)}/${n}`:`/${I(e)}/${I(t)}`}let y=({owner:e,repo:t})=>`/${I(e)}/${I(t)}/stats`,x=({owner:e,repo:t})=>`/${I(e)}/${I(t)}/branches/check_tag_name_exists`,b=({owner:e,repo:t,branch:n})=>`/${I(e)}/${I(t)}/tree/${I(n)}`,j=({owner:e,repo:t})=>`/${I(e)}/${I(t)}/invitations`,w=({owner:e,repo:t,branchName:n})=>`/${I(e)}/${I(t)}/settings/branch_protection_rules/new?branch_name=${I(n)}`,S=({owner:e,repo:t,commitish:n,filePath:r,lineNumber:i,plain:a})=>{let s=a?`?plain=${a}`:"",o=i?`#L${i}`:"";return`/${I(e)}/${I(t)}/blob/${I(n)}/${r}${s}${o}`},C=({owner:e,repo:t,commitish:n,filePath:r,lineNumber:i})=>{let a=i?`#L${i}`:"";return`/${I(e)}/${I(t)}/blame/${I(n)}/${r}${a}`};function L({login:e}){return`/users/${I(e)}/dismiss_repository_notice`}function R({repo:e,commitish:t,path:n}){let r=["",e.ownerLogin,e.name,"deferred-metadata",t,n];return r.map(I).join("/")}function _(e){return`/${I(e.ownerLogin)}/${I(e.name)}`}function T(e){return`/${I(e.ownerLogin)}/${I(e.name)}?files=1`}function v({repo:e,commitish:t,action:n,path:r}){let i=["",e.ownerLogin,e.name,n,t];return r&&"/"!==r&&i.push(r),i.map(I).join("/")}let k=({owner:e,repo:t})=>`/${e}/${t}/sidepanel-metadata`;function N(e,t){return`/${e.ownerLogin}/${e.name}/detect_language?filename=${t}`}function I(e){return e.split("/").map(encodeURIComponent).join("/")}let O=({owner:e,repo:t,commitish:n})=>`/${I(e)}/${I(t)}/commit/${n}`,Z=({owner:e,repo:t,ref:n,path:r})=>{let i=`/${I(e)}/${I(t)}/commits`;return n?r?`${i}/${I(n)}/${I(K(r))}`:`${i}/${I(n)}`:i};function E({repo:e,branch:t,path:n,author:r}){let i=[e.ownerLogin,e.name,"commits",t,n].map(I).join("/");return`/${i}?author=${I(r)}`}function F(e,t){return`/${e.ownerLogin}/${e.name}/commit/${t}/status-details`}function z({repo:e,author:t}){let n=[e.ownerLogin,e.name];return`/${n.map(I).join("/")}/commits?author=${I(t)}`}let P=({owner:e,repo:t,commitish:n})=>`/${I(`${e}/${t}/commit/${n}/hovercard`)}`,A=({topicName:e})=>`/topics/${e}`,D=({categoryName:e})=>`/marketplace/category/${B(e)}`,W=({slug:e})=>`/marketplace/actions/${I(e)}`,H=({owner:e,repo:t,commitish:n,filePath:r})=>`/${e}/${t}/codeowners-validity/${n}/${r}`;function K(e){return e.startsWith("/")?e.slice(1):e}function B(e){return e.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()}function M(e){return e.split("/").slice(0,-1).join("/")}function U({repo:e,baseUrl:t="",branch:n,filter:r,pagination:i,perPage:a}){let s=[e.ownerLogin,e.name,"activity"],o=[];return n&&o.push(`ref=${I(n)}`),r&&(r.activityType&&"all"!==r.activityType.toLocaleLowerCase()&&o.push(`activity_type=${I(r.activityType)}`),r.actor?.login&&o.push(`actor=${I(r.actor.login)}`),r.timePeriod&&"all"!==r.timePeriod.toLocaleLowerCase()&&o.push(`time_period=${I(r.timePeriod)}`),r.sort&&"desc"!==r.sort.toLocaleLowerCase()&&o.push(`sort=${I(r.sort)}`)),i&&(i.after?o.push(`after=${I(i.after)}`):i.before&&o.push(`before=${i.before}`)),a&&30!==a&&o.push(`per_page=${a}`),`${t}/${s.map(I).join("/")}${o.length>0?`?${o.join("&")}`:""}`}function V({repo:e,baseUrl:t="",branch:n,timePeriod:r}){let i=[e.ownerLogin,e.name,"activity","actors"],a=[];return n&&a.push(`ref=${I(n)}`),r&&a.push(`time_period=${I(r)}`),`${t}/${i.map(I).join("/")}${a.length>0?`?${a.join("&")}`:""}`}function Q(){return"insights/actors"}function G({repo:e,base:t,head:n}){let r=[e.ownerLogin,e.name,"compare"].map(I).join("/"),i=`${I(t)}...${I(n)}`;return`/${r}/${i}`}function q({repo:e,base:t,head:n}){let r=[e.ownerLogin,e.name,"branches","pre_mergeable"].map(I).join("/"),i=`${I(t)}...${I(n)}`;return`/${r}/${i}`}function Y({repo:e,refName:t}){return`/${[e.ownerLogin,e.name,"pull","new",t].map(I).join("/")}`}function X({repo:e,number:t}){return`/${[e.ownerLogin,e.name,"pull",t.toString()].map(I).join("/")}`}function J({repo:e,refName:t,discard:n}){return`/${[e.ownerLogin,e.name,"branches","fetch_and_merge",t].map(I).join("/")}${n?"?discard_changes=true":""}`}function ee({repo:e,commitOid:t,includeDirectories:n=!1}){let r=`/${[e.ownerLogin,e.name,"tree-list",t].map(I).join("/")}`;return n?`${r}?include_directories=${n}`:r}function et({repo:e,type:t,q:n,language:r,row:i,column:a,ref:s,path:o,codeNavContext:c}){let l=[e.ownerLogin,e.name].map(I).join("/");return`/${l}/find-react-${t}?q=${encodeURIComponent(n)}&language=${encodeURIComponent(r)}&row=${i}&col=${a}&ref=${s}&blob_path=${encodeURIComponent(o)}&code_nav_context=${encodeURIComponent(c)}`}let en=({owner:e,repo:t,issueNumber:n})=>`/${I(e)}/${I(t)}/issues/${n}`,er=({owner:e,repo:t,issueNumber:n,contentId:r})=>`/${I(e)}/${I(t)}/issues/${n}#issuecomment-${r}`,ei=({owner:e,repo:t,issueNumber:n,contentId:r})=>`/${I(e)}/${I(t)}/issues/${n}#issue-${r}`,ea=({owner:e,repo:t,issueNumber:n})=>`/${I(e)}/${I(t)}/issues/${n}/hovercard`,es=({owner:e,repo:t,pullRequestNumber:n})=>`/${I(e)}/${I(t)}/pull/${n}/hovercard`;function eo(e,t,n){let r=eS(e,"/",4),i=e.substring(r);return i===`/${t}`?"":i.startsWith(`/${t}/`)?i.substring(t.length+2):n}function ec(e,t){return`/${I(e)}/${I(t)}/community/code-of-conduct/new`}function el(e,t){return`/${I(e)}/${I(t)}/community/license/new`}function eu(e,t){return`/${I(e)}/${I(t)}/security/policy`}function eh(e,t){return`/${I(e)}/${I(t)}/security/secret-scanning`}function ed(e,t,n){return`/${I(e)}/${I(t)}/security/secret-scanning/${n}`}let ef=({owner:e,repo:t,id:n})=>`/${I(e)}/${I(t)}/security/secret-scanning/${n}/timeline`,em=({owner:e,repo:t,id:n,page:r})=>`/${I(e)}/${I(t)}/security/secret-scanning/${n}/locations?page=${r}`;function ep(e,t){return`/${I(e)}/${I(t)}/security/secret-scanning/resolve-react`}function eg(e,t,n=null){return null===n?`/organizations/${I(t)}/settings/security_analysis/custom_patterns/${e}`:`/${I(t)}/${I(n)}/settings/security_analysis/custom_patterns/${e}`}function e$(){return"https://github.com/community/community/discussions/categories/code-security"}let ey=({owner:e,repo:t,accessId:n,tokenType:r})=>`/${I(e)}/${I(t)}/security/secret-scanning/org-access?access_id=${n}&token_type=${r}`,ex=({notice:e})=>`/settings/dismiss-notice/${e}`,eb=({org_display_login:e})=>`/orgs/${I(e)}/security/trends/secret-scanning/push-protection-metrics`,ej=({org_display_login:e,secret_type:t})=>`/orgs/${I(e)}/security/alerts/secret-scanning?query=secret-type%3A${I(t)}`,ew=({org_display_login:e,repo:t})=>`/orgs/${I(e)}/security/alerts/secret-scanning?query=repo%3A${I(t)}`;function eS(e,t,n){return e.split(t,n).join(t).length}let eC=e=>`/${I(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,eL=()=>"/repositories/check-name",eR=()=>"/repositories",e_=e=>`/${I(`${e.ownerLogin}/${e.name}`)}/settings/transfer`,eT=e=>`/${I(`${e.ownerLogin}/${e.name}`)}/settings/abort_transfer`,ev=()=>"/new/import",ek=e=>{let t="/users/placeholder/organizations_info";return e&&(t+=`?owner=${e}`),t},eN=()=>"/repositories/new/templates",eI=()=>"/repositories/forms/owner_items",eO=e=>`/repositories/forms/fork_owner_items?repo_id=${e}`,eZ=e=>`/repositories/forms/owner_detail?owner=${I(e)}`,eE=e=>`/${I(e.ownerLogin)}/${I(e.name)}/graphs/contributors`,eF=e=>`/${I(e.ownerLogin)}/${I(e.name)}/settings/access`;function ez({org:e,propertyName:t}){let n=`/organizations/${I(e)}/settings/custom-properties`;return t?`${n}/${I(t)}`:n}function eP({org:e,propertyName:t}){let n=`/organizations/${I(e)}/settings/custom-property`;return t?`${n}/${I(t)}`:n}function eA({org:e}){return`/organizations/${I(e)}/settings/custom-properties`}function eD({org:e,propertyName:t}){return["","organizations",I(e),"settings","custom-properties-usage",I(t)].join("/")}function eW({org:e,repo:t}){return`/${I(`${e}/${t}`)}/settings/custom-properties`}function eH({owner:e,repo:t}){return`/${I(`${e}/${t}`)}/fork`}function eK({owner:e,repo:t}){return`/${I(`${e}/${t}`)}/forks`}},70567:(e,t,n)=>{n.d(t,{W:()=>SearchIndex,r:()=>r});var r,i=n(44544),a=n(71643);let{getItem:s,setItem:o,removeItem:c}=(0,i.Z)("localStorage",{throwQuotaErrorsOnSet:!0});!function(e){e.Branch="branch",e.Tag="tag"}(r||(r={}));let SearchIndex=class SearchIndex{render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;let e=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(e)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch(e){this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(e){if(this.emitStats(e),!e.ok){this.fetchFailed=!0;return}let t=e.clone(),n=await e.json();this.knownItems=n.refs,this.cacheKey=n.cacheKey,this.flushToLocalStorage(await t.text())}emitStats(e){if(!e.ok){(0,a.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(e.status){case 200:(0,a.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break;case 304:(0,a.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break;default:(0,a.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(e){let t;if(this.searchTerm=e,""===e){this.currentSearchResult=this.knownItems;return}let n=[],r=[];for(let i of(this.exactMatchFound=!1,this.knownItems))if(!((t=i.indexOf(e))<0)){if(0===t){e===i?(r.unshift(i),this.exactMatchFound=!0):r.push(i);continue}n.push(i)}this.currentSearchResult=[...r,...n]}bootstrapFromLocalStorage(){let e=s(this.localStorageKey);if(!e)return!1;let t=JSON.parse(e);return t.cacheKey===this.cacheKey&&"refs"in t?(this.knownItems=t.refs,this.isLoading=!1,(0,a.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0):(c(this.localStorageKey),!1)}async flushToLocalStorage(e){try{o(this.localStorageKey,e)}catch(t){if(t.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,a.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{o(this.localStorageKey,e)}catch(e){e.message.toLowerCase().includes("quota")&&(0,a.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw t}}clearSiblingLocalStorage(){for(let e of Object.keys(localStorage))e.startsWith(SearchIndex.LocalStoragePrefix)&&c(e)}clearLocalStorage(){c(this.localStorageKey)}get localStorageKey(){return`${SearchIndex.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}constructor(e,t,n,r,i){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.searchTerm="",this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=e,this.selector=t,this.refEndpoint=n,this.cacheKey=r,this.nameWithOwner=i}};SearchIndex.LocalStoragePrefix="ref-selector"},62073:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(67294),i=n(78249),a=n(98224);function s(){let e=(0,r.useContext)(a.kb);return e}function o(e,t,n=[]){let o=(0,r.useCallback)(e,n),c=s(),l=(0,r.useRef)(c===a.i$.ClientRender),[u,h]=(0,r.useState)(()=>c===a.i$.ClientRender?o():t),d=(0,r.useCallback)(()=>{h(o)},[o]);return(0,i.g)(()=>{l.current||h(o),l.current=!1},[o,...n]),[u,d]}},79431:(e,t,n)=>{n.d(t,{H:()=>u});var r,i,a,s=n(85893),o=n(42483),c=n(67294),l=n(78720);function u({items:e,itemHeight:t,sx:n,renderItem:r,makeKey:i}){let a=(0,c.useRef)(null),o=(0,c.useCallback)(()=>t,[t]),u=(0,l.o)({parentRef:a,size:e.length,estimateSize:o});return(0,s.jsx)(h,{ref:a,sx:n,virtualizer:u,children:u.virtualItems.map(t=>(0,s.jsx)(d,{virtualRow:t,children:r(e[t.index])},i(e[t.index])))})}let h=c.forwardRef(function({children:e,sx:t,virtualizer:n},r){return(0,s.jsx)(o.Z,{ref:r,sx:t,children:(0,s.jsx)(o.Z,{sx:{height:n.totalSize,width:"100%",position:"relative"},children:e})})});function d({children:e,virtualRow:t}){return(0,s.jsx)(o.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:e})}try{(r=u).displayName||(r.displayName="FixedSizeVirtualList")}catch{}try{(i=VirtualListContainerInner).displayName||(i.displayName="VirtualListContainerInner")}catch{}try{(a=d).displayName||(a.displayName="ItemContainer")}catch{}},79515:(e,t,n)=>{n.d(t,{h:()=>o});var r,i=n(85893),a=n(42483);function s(e,t){if(!t)return[e];let n=e.toLowerCase().split(t.toLowerCase());if(n.length<2)return[e];let r=0,i=[];for(let a of n)i.push(e.substring(r,r+a.length)),r+=a.length,i.push(e.substring(r,r+t.length)),r+=t.length;return i}function o({text:e,search:t,hideOverflow:n=!1,overflowWidth:r=0}){let o=s(e,t),c=o.map((e,t)=>t%2==1?(0,i.jsx)("strong",{className:"color-fg-default",children:e},t):e),l=r?`${r}px`:void 0;return(0,i.jsx)(a.Z,{sx:{maxWidth:l,overflow:n?"hidden":"visible",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"fg.muted"},children:c})}try{(r=o).displayName||(r.displayName="HighlightedText")}catch{}},80490:(e,t,n)=>{n.d(t,{ox:()=>ex,cq:()=>e$,li:()=>ey,Z7:()=>eg});var r,i,a,s,o,c,l,u,h,d,f,m,p,g,$,y,x,b,j,w=n(85893),S=n(31147),C=n(78912),L=n(51461),R=n(10866),_=n(85529),T=n(50901),v=n(42483),k=n(75308),N=n(50919),I=n(22390),O=n(74121),Z=n(98833),E=n(97011),F=n(67294),z=n(86283),P=n(62073),A=n(12470),D=n(73935);function W({isOpen:e,onDismiss:t,onConfirm:n}){let[r]=(0,P.D)(()=>document.body,null,[z.n4?.body]);return r?(0,D.createPortal)((0,w.jsxs)(A.Z,{isOpen:e,onDismiss:t,children:[(0,w.jsx)(A.Z.Header,{children:"Create branch"}),(0,w.jsxs)(v.Z,{sx:{p:3},children:[(0,w.jsx)(E.Z,{children:"A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?"}),(0,w.jsxs)(v.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[(0,w.jsx)(C.z,{onClick:t,children:"Cancel"}),(0,w.jsx)(C.z,{variant:"danger",onClick:n,sx:{ml:2},children:"Create"})]})]})]}),document.body):null}try{(r=W).displayName||(r.displayName="CheckTagNameDialog")}catch{}var H=n(89445);async function K(e,t){let n=new FormData;n.set("value",t);let r=await (0,H.Q)(e,{method:"POST",body:n,headers:{Accept:"application/json"}});return!!r.ok&&!!await r.text()}async function B(e,t,n){let r=new FormData;r.set("name",t),r.set("branch",n);let i=await (0,H.Q)(e,{method:"POST",body:r,headers:{Accept:"application/json"}});if(i.ok)return{success:!0,name:(await i.json()).name};try{let{error:e}=await i.json();if(e)return{success:!1,error:e};throw Error("Unknown response from create branch API")}catch{return{success:!1,error:"Something went wrong."}}}var M=n(2708);function U(e){let{hotKey:t,onOpenChange:n,size:r,currentCommitish:i,refType:a,children:s,preventClosing:o,inputRef:c,overlayOpen:l,onOverlayChange:u,focusTrapEnabled:h=!0,buttonClassName:d,allowResizing:f}=e,m=(0,F.useRef)(`branch-picker-${Date.now()}`),p=(0,F.useCallback)(e=>{u(e),n?.(e)},[n,u]),g=(0,F.useMemo)(()=>h?{initialFocusRef:c}:{initialFocusRef:c,disabled:!0},[h,c]);return(0,w.jsx)(M.w,{open:l,overlayProps:{role:"dialog",width:"medium"},onOpen:()=>p(!0),onClose:()=>!o&&p(!1),renderAnchor:e=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(C.z,{...e,"data-hotkey":t,size:r,sx:{svg:{color:"fg.muted"},display:"flex",minWidth:f?0:void 0,"> span":{width:"inherit"}},trailingIcon:_.AS7,"aria-label":`${i} ${a}`,"data-testid":"anchor-button",id:m.current,className:d,children:(0,w.jsxs)(v.Z,{sx:{display:"flex"},children:[(0,w.jsx)(v.Z,{sx:{mr:1,color:"fg.muted"},children:"tag"===a?(0,w.jsx)(_.lO_,{size:"small"}):(0,w.jsx)(_.fnQ,{size:"small"})}),(0,w.jsx)(v.Z,{sx:{fontSize:1,minWidth:0,maxWidth:f?void 0:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,w.jsxs)(E.Z,{sx:{minWidth:0},children:["\xa0",i]})})]})}),(0,w.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:()=>p(!0),"data-hotkey-scope":"read-only-cursor-text-area"})]}),focusTrapSettings:g,focusZoneSettings:{disabled:!0},children:(0,w.jsx)(v.Z,{"data-testid":"overlay-content","aria-labelledby":m.current,id:"selectPanel",children:s})})}try{(i=U).displayName||(i.displayName="RefSelectorAnchoredOverlay")}catch{}function V({text:e,onClick:t,href:n,sx:r}){let i=(0,w.jsx)(v.Z,{sx:{...r},children:e}),a={sx:{minWidth:0}};return n?(0,w.jsx)(T.S.LinkItem,{role:"link",href:n,onClick:()=>t?.(),...a,children:i}):(0,w.jsx)(T.S.Item,{role:"button",onSelect:()=>t?.(),...a,children:i})}try{(a=V).displayName||(a.displayName="RefSelectorFooter")}catch{}var Q=n(79431),G=n(63309),q=n(79515);let Y=F.memo(function({isCurrent:e,isDefault:t,href:n,gitRef:r,filterText:i,ariaPosInSet:a,ariaSetSize:s,onSelect:o,onClick:c}){let l=(0,w.jsx)(X,{gitRef:r,isDefault:t,isCurrent:e,filterText:i}),u={"aria-checked":e,"aria-posinset":a,"aria-setsize":s,sx:{minWidth:0},onSelect:()=>o?.(r),onClick:()=>c?.(r)};return n?(0,w.jsx)(T.S.LinkItem,{href:n,role:"menuitemradio",...u,children:l}):(0,w.jsx)(T.S.Item,{...u,children:l})}),X=F.memo(function({isCurrent:e,isDefault:t,gitRef:n,filterText:r,showLeadingVisual:i=!0}){return(0,w.jsxs)(v.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,w.jsxs)(v.Z,{style:{display:"flex",minWidth:0,alignItems:"flex-end"},children:[i&&(0,w.jsx)(Z.Z,{icon:_.nQG,"aria-hidden":!0,sx:{pr:1,visibility:e?void 0:"hidden"}}),(0,w.jsx)(q.h,{hideOverflow:!0,search:r,text:n},n)]}),t&&(0,w.jsx)(G.Z,{children:"default"})]})});try{(s=Y).displayName||(s.displayName="RefItem")}catch{}try{(o=X).displayName||(o.displayName="RefItemContent")}catch{}function J(e){return e.refs.length>20?(0,w.jsx)(et,{...e}):(0,w.jsx)(ee,{...e})}function ee({refs:e,defaultBranch:t,currentCommitish:n,getHref:r,filterText:i,onSelectItem:a}){return(0,w.jsx)(v.Z,{sx:{maxHeight:330,overflowY:"auto"},children:e.map(s=>(0,w.jsx)(Y,{href:r?.(s),isCurrent:n===s,isDefault:t===s,filterText:i,gitRef:s,onSelect:a,onClick:a,ariaPosInSet:e.indexOf(s)+1,ariaSetSize:e.length},s))})}function et({refs:e,defaultBranch:t,currentCommitish:n,getHref:r,filterText:i,onSelectItem:a}){return(0,w.jsx)(Q.H,{items:e,itemHeight:32,sx:{maxHeight:330,overflowY:"auto"},makeKey:e=>e,renderItem:s=>(0,w.jsx)(Y,{href:r?.(s),isCurrent:n===s,isDefault:t===s,filterText:i,gitRef:s,onSelect:a,onClick:a,ariaPosInSet:e.indexOf(s)+1,ariaSetSize:e.length},s)})}try{(c=J).displayName||(c.displayName="RefsList")}catch{}try{(l=ee).displayName||(l.displayName="FullRefsList")}catch{}try{(u=et).displayName||(u.displayName="VirtualRefsList")}catch{}var en=n(70567);function er(e,t,n,r,i,a){let[s,o]=(0,F.useState)({status:"uninitialized",refs:[],showCreateAction:!1,searchIndex:null}),c=(0,F.useRef)({render:()=>{o(ea(u.current,a))}}),l=(0,F.useRef)({render:()=>{o(ea(h.current,a))}}),u=es(()=>ei(e,t,n,"branch",c.current)),h=es(()=>ei(e,t,n,"tag",l.current));return(0,F.useEffect)(()=>{let i=`${t}/${n}`;u.current.nameWithOwner!==i&&(u.current=ei(e,t,n,"branch",c.current)),h.current.nameWithOwner!==i&&(h.current=ei(e,t,n,"tag",l.current)),async function(){let e="branch"===r?u.current:h.current;e.render(),await e.fetchData(),e.search(""),e.render()}()},[e,t,n,r,u,h]),(0,F.useEffect)(()=>{let e="branch"===r?u.current:h.current;e.search(i),e.render()},[i,r,u,h]),s}function ei(e,t,n,r,i){return new en.W("branch"===r?en.r.Branch:en.r.Tag,i,(0,R.FL)({owner:t,repo:n,action:"refs"}),e,`${t}/${n}`)}function ea(e,t){let n=e.fetchFailed?"failed":e.isLoading?"loading":"loaded",r=e.currentSearchResult,i=e.refType===en.r.Branch&&t&&e.searchTerm.length>0&&!e.exactMatchFound;return{status:n,refs:r,showCreateAction:i,searchIndex:e}}function es(e){let t=(0,F.useRef)();return t.current||(t.current=e()),t}function eo(e){let{cacheKey:t,owner:n,repo:r,canCreate:i,types:a,hotKey:s,onOpenChange:o,size:c,getHref:l,onBeforeCreate:u,onRefTypeChanged:h,currentCommitish:d,onCreateError:f,onSelectItem:m,closeOnSelect:p,selectedRefType:g,customFooterItemProps:$,buttonClassName:y,allowResizing:x}=e,[b,j]=(0,F.useState)(""),S=(0,F.useRef)(null),C=(0,F.useRef)(null),[L,_]=(0,F.useState)(!1),[T,v]=(0,F.useState)(!0),[k,N]=(0,F.useState)(!1),[I,O]=(0,F.useState)(g??(a??eg)[0]),Z=er(t,n,r,I,b,i),E=(0,R.FL)({owner:n,repo:r,action:"branches"}),z=(0,R.dQ)({owner:n,repo:r}),P=(0,F.useCallback)(async()=>{u?.(b);let e=await B(E,b,d);e.success?l&&(Z.searchIndex?.clearLocalStorage(),window.location.href=l(e.name)):f?.(e.error)},[u,b,E,d,l,f,Z.searchIndex]),A=(0,F.useCallback)(async()=>{if(await K(z,b)){N(!0),v(!1);return}N(!1),v(!1),P()},[z,b,P,N]),D=(0,F.useCallback)(e=>{O(e),h?.(e)},[O,h]);function H(){_(!1)}let M=(0,F.useCallback)((e,t)=>{m?.(e,t),H()},[m]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(U,{refType:I,currentCommitish:d,focusTrapEnabled:T,preventClosing:k,size:c,onOpenChange:o,hotKey:s,inputRef:S,overlayOpen:L,onOverlayChange:_,buttonClassName:y,allowResizing:x,children:(0,w.jsx)(ec,{filterText:b,onFilterChange:j,refType:I,selectedRefType:I,onRefTypeChange:D,refsState:Z,onCreateError:e.onCreateError,showTagWarningDialog:k,setShowTagWarningDialog:N,onCreateBranch:A,inputRef:S,createButtonRef:C,onSelectItem:M,closeOnSelect:p,closeRefSelector:H,customFooterItemProps:$,...e})}),(0,w.jsx)(W,{isOpen:k,onDismiss:()=>{N(!1),C.current?.focus()},onConfirm:P})]})}function ec({canCreate:e,currentCommitish:t,defaultBranch:n,filterText:r,getHref:i,hideShowAll:a,onSelectItem:s,closeOnSelect:o,closeRefSelector:c,onFilterChange:l,onRefTypeChange:u,owner:h,selectedRefType:d,refsState:f,refType:m,repo:p,types:g,onCreateBranch:$,inputRef:y,createButtonRef:x,customFooterItemProps:b,viewAllJustify:j}){let{refs:S,showCreateAction:C,status:L}=f;return(0,w.jsxs)(T.S,{showDividers:!0,children:[(0,w.jsxs)(v.Z,{sx:{borderBottom:"1px solid",borderColor:"border.subtle",pb:2},children:[(0,w.jsxs)(v.Z,{sx:{display:"flex",pb:2,px:2,justifyContent:"space-between",alignItems:"center"},children:[(0,w.jsx)(k.Z,{as:"h5",sx:{pl:2,fontSize:"inherit"},children:eh(g??eg)}),(0,w.jsx)(N.h,{"aria-label":"Cancel",variant:"invisible",icon:_.b0D,sx:{color:"fg.muted"},onClick:c})]}),(0,w.jsx)(el,{defaultText:r,refType:m,canCreate:e,onFilterChange:l,ref:y})]}),(0,w.jsxs)(v.Z,{sx:{pt:2,pb:C&&0===S.length?0:2},children:[(g??eg).length>1&&(0,w.jsx)(v.Z,{sx:{px:2,pb:2},children:(0,w.jsx)(ey,{refType:m,onRefTypeChanged:u,sx:{mx:-2,borderBottom:"1px solid",borderColor:"border.muted","> nav":{borderBottom:"none"}}})}),"loading"===L||"uninitialized"===L?(0,w.jsx)(ed,{refType:m}):"failed"===L?(0,w.jsx)(ex,{refType:m}):0!==S.length||C?(0,w.jsx)(J,{filterText:r,refs:S,defaultBranch:"branch"===m?n:"",currentCommitish:m===d?t:"",getHref:i,onSelectItem:e=>{s?.(e,m),o&&c()}}):(0,w.jsx)(ef,{})]}),C&&(0,w.jsxs)(w.Fragment,{children:[S.length>0&&(0,w.jsx)(T.S.Divider,{sx:{marginTop:0,backgroundColor:"border.subtle"}}),(0,w.jsx)(ep,{currentCommitish:t,newRefName:r,onCreateBranch:$,createButtonRef:x})]}),(!a||b)&&(0,w.jsx)(T.S.Divider,{sx:{marginTop:C?2:0,backgroundColor:"border.subtle"}}),!a&&(0,w.jsx)(em,{justify:j,refType:m,owner:h,repo:p,onClick:c}),b&&(0,w.jsx)(V,{...b,onClick:function(){b?.onClick?.(),c()}})]})}let el=(0,F.forwardRef)(eu);function eu({refType:e,canCreate:t,onFilterChange:n,defaultText:r},i){return(0,w.jsx)(v.Z,{sx:{px:2},children:(0,w.jsx)(I.Z,{leadingVisual:_.W1M,value:r,sx:{width:"100%"},placeholder:"tag"===e?"Find a tag...":t?"Find or create a branch...":"Find a branch...",ref:i,onInput:e=>{let t=e.target;t instanceof HTMLInputElement&&n(t.value)}})})}function eh(e){return e.includes("branch")&&e.includes("tag")?"Switch branches/tags":e.includes("branch")?"Switch branches":e.includes("tag")?"Switch tags":void 0}function ed({refType:e}){return(0,w.jsx)(v.Z,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,w.jsx)(O.Z,{size:"medium","aria-label":`Loading ${"branch"===e?"branches":"tags"}...`})})}function ef(){return(0,w.jsx)(v.Z,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}function em({refType:e,owner:t,repo:n,onClick:r,justify:i="start"}){let a="branch"===e?"branches":"tags";return(0,w.jsx)(T.S.LinkItem,{role:"link",href:(0,R.FL)({owner:t,repo:n,action:a}),onClick:r,sx:{display:"flex",justifyContent:"center"},children:(0,w.jsxs)(v.Z,{sx:{display:"flex",justifyContent:i},children:["View all ",a]})})}function ep({currentCommitish:e,newRefName:t,onCreateBranch:n,createButtonRef:r}){return(0,w.jsxs)(T.S.Item,{role:"button",onSelect:n,ref:r,children:[(0,w.jsx)(Z.Z,{icon:_.fnQ,sx:{mr:2,color:"fg.muted"}}),(0,w.jsx)(E.Z,{children:"Create branch\xa0"}),(0,w.jsx)(E.Z,{sx:{fontWeight:600,fontFamily:"monospace"},children:t}),(0,w.jsx)(E.Z,{children:"\xa0from\xa0"}),(0,w.jsx)(E.Z,{sx:{fontWeight:600,fontFamily:"monospace"},children:e})]})}try{(h=eo).displayName||(h.displayName="RefSelectorV1")}catch{}try{(d=ec).displayName||(d.displayName="RefSelectorActionList")}catch{}try{(f=el).displayName||(f.displayName="RefTextFilter")}catch{}try{(m=eu).displayName||(m.displayName="RefTextFilterWithRef")}catch{}try{(p=ed).displayName||(p.displayName="Loading")}catch{}try{(g=ef).displayName||(g.displayName="RefsZeroState")}catch{}try{($=em).displayName||($.displayName="ViewAllRefsAction")}catch{}try{(y=ep).displayName||(y.displayName="CreateRefAction")}catch{}let eg=["branch","tag"];function e$(e){return(0,w.jsx)(eo,{...e})}function ey({refType:e,onRefTypeChanged:t,sx:n}){return(0,w.jsxs)(S.Z,{sx:{pl:2,...n},"aria-label":"Ref type",children:[(0,w.jsx)(S.Z.Link,{as:C.z,id:"branch-button","aria-controls":"branches",selected:"branch"===e,onClick:()=>t("branch"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Branches"}),(0,w.jsx)(S.Z.Link,{as:C.z,id:"tag-button","aria-controls":"tags",selected:"tag"===e,onClick:()=>t("tag"),sx:{borderBottomRightRadius:0,borderBottomLeftRadius:0},children:"Tags"})]})}function ex({refType:e}){return(0,w.jsxs)(L.Z,{variant:"danger",children:["Could not load ","branch"===e?"branches":"tags"]})}try{(x=e$).displayName||(x.displayName="RefSelector")}catch{}try{(b=ey).displayName||(b.displayName="RefTypeTabs")}catch{}try{(j=ex).displayName||(j.displayName="LoadingFailed")}catch{}},93062:(e,t,n)=>{n.d(t,{WZ:()=>d,sF:()=>m,wB:()=>h});var r,i=n(85893),a=n(42483),s=n(97011),o=n(27856),c=n.n(o),l=n(67294);function u(e){if("html"in e&&void 0!==e.html){let{html:t,...n}=e;return{safeHTML:t,props:n}}let{unverifiedHTML:t,...n}=e;return{safeHTML:c().sanitize(t),props:n}}let h=f(a.Z);h.displayName="SafeHTMLBox";let d=f(s.Z);function f(e){let t=(0,l.forwardRef)((t,n)=>{let{safeHTML:r,props:a}=u(t);return(0,i.jsx)(e,{ref:n,...a,dangerouslySetInnerHTML:r?{__html:r}:void 0})});return t}d.displayName="SafeHTMLText";let m=l.forwardRef((e,t)=>{let{safeHTML:n,props:r}=u(e);return(0,i.jsx)("div",{ref:t,...r,dangerouslySetInnerHTML:n?{__html:n}:void 0})});m.displayName="SafeHTMLDiv";try{(r=SafeHTMLComponent).displayName||(r.displayName="SafeHTMLComponent")}catch{}}}]);
//# sourceMappingURL=ui_packages_ref-selector_RefSelector_tsx-ui_packages_safe-html_SafeHTML_tsx-ae2e641afd32.js.map